<div class="card" ng-controller="ScenariosCtrl">
  <div class="card-content"> 
    <div ng-if="loading">
      <i class="fa fa-refresh fa-spin"></i> 
    </div>

    <div ng-if="selectedScenario === null">
      <span id="title-holder" class="card-title-text ng-binding">
        3di resultaten
      </span>

      <table class="table table-hover scenarios-table">
        <tbody
          if="scenarios.length > 0"
          class="scenarios-table-body"
          ng-style="{'height':tableHeight}">
          <tr ng-repeat="scenario in scenarios | filter: query"
            class="scenarios-table-row">
            <td ng-click="select(scenario)"><% scenario.name %> </td>
            <td ng-click="select(scenario)" class="clickable text-right" ><% scenario.created | date: 'MMM d, y HH:mm:ss a' %><td>
          </tr>
        </tbody>

      </table>

      <nav>
        <ul class="pagination">
          <li>
          <a ng-click="getPage(page - 1)" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
          </li>
          <li ng-repeat="_page in pages"><a ng-click="getPage(_page)"><% _page %></a></li>
          <li>
          <a ng-click="getPage(page + 1)" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
          </li>
        </ul>
      </nav>

    </div>

    <div ng-if="selectedScenario">
      <a ng-click="select(selectedScenario)" class="clickable" title="Terug"><i class="fa fa-arrow-left"></i></a>

      <span id="title-holder" class="card-title-text ng-binding">
        <% selectedScenario.name %>
      </span>

      <table class="table table-condensed result-table">
        <tr class="clickable"
          ng-class="{'selected-result': result.lg._active}"
          ng-repeat="result in selectedScenario.result_set">
          <td ng-click="preview(result)"><% result.result_type.name %> <a ng-if="result.layer_group">(preview)</a></td>
          <td><a href="<% result.attachment_url %>" translate>Download</a></td>
        </tr>
      </table>
      <span ng-if="selectedScenario.result_set.length === 0" translate>
        No results
      </span>
    </div>

  </div><!-- card-content-->

</div>
