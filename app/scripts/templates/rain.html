<div ng-controller="rain" id="card-rain"
  class="card active"
  ng-if="rain['radar/basic'].data">
  <div class="card-content" id="card-content-rain">
    <a
      id="export-rain-csv-button"
      href="#"
      title="Data van deze infocard exporteren"
      ng-csv="formatCSVColumns(rain['radar/basic'].data)"
      filename="neerslag.csv"
      csv-header="['Datestamp', 'Timestamp', 'Rain (mm)', 'Latitude', 'Longitude']" >
      <i class="fa fa-share-square-o"></i>
    </a>
    <graph ng-if="rain['radar/basic'].data[0][0] !== null" bar-chart
      class="xyGraph"
      data="rain['radar/basic'].data"
      ylabel="rain['radar/basic'].aggWindow"
      yfilter="aggWinToYLabel"
      keys="{x: 0, y: 1}"
      now="timeState.at">
    </graph>
  <div class="recurrence-time-container"
    ng-if="rain['rrc'].data">
    <table class="table table-hover table-condensed">
      <caption>Herhalingstijden</caption>
      <thead>
        <tr>
          <th>Start</th>
          <th>Duur</th>
          <th class="text-right">mm</th>
          <th>Herhalingstijd</th>
        </tr>
      </thead>
      <tbody>
        <tr class="recurrence_time"
          ng-repeat="recurTime in rain['rrc'].data">
          <td><% recurTime.start | date : 'dd-MM-yyyy HH:mm' %></td>
          <td><% recurTime.td_window %></td>
          <td class="text-right"><% recurTime.max | number: 1 %></td>
          <td><% recurTime.t %></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
